"use strict";

var _lodash = require("lodash");

/* eslint-disable */
document.addEventListener('DOMContentLoaded', () => {
  const objApp = document.getElementById('appInput');
  const objLabel = document.createElement('label');
  const objSelectCode = document.createElement('select');
  const objInput = document.createElement('input');
  const flagPrefix = 'img/flags/';
  const codes = {};
  var xhttp = new XMLHttpRequest();

  xhttp.onreadystatechange = function () {
    if (this.readyState == 4 && this.status == 200) {
      codes.list = JSON.parse(xhttp.response);
      console.log(codes.list);

      _lodash._.forEach(codes.list.mobile_codes, el => {
        console.warn("!::: ", el);
        let option = document.createElement('option');
        console.warn(el.mobile_code);
        option.textContent = el.mobile_code;
        console.warn(el.name_cyr);
        option.title = el.name_cyr;
        option.style.backgroundImage = `url(${flagPrefix}${el.flag_picture_name})`;
        objSelectCode.append(option);
      });

      objSelectCode.className = 'select_mobile_code';
      objLabel.for = 'select_code';
      objLabel.textContent = ' + ';
      objInput.type = 'tel';
      objInput.placeholder = '000 000 00 00';
      objInput.pattern = "[0-9]{10}";
      objApp.append(objLabel);
      objApp.append(objSelectCode);
      objApp.append(objInput);
    }
  };

  xhttp.open('POST', 'ajax_mobile_codes.php', true);
  xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
  xhttp.send('mobile_codes=get');
  /* eslint-enable */
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvYmpBcHAiLCJnZXRFbGVtZW50QnlJZCIsIm9iakxhYmVsIiwiY3JlYXRlRWxlbWVudCIsIm9ialNlbGVjdENvZGUiLCJvYmpJbnB1dCIsImZsYWdQcmVmaXgiLCJjb2RlcyIsInhodHRwIiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwibGlzdCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsIl8iLCJmb3JFYWNoIiwibW9iaWxlX2NvZGVzIiwiZWwiLCJ3YXJuIiwib3B0aW9uIiwibW9iaWxlX2NvZGUiLCJ0ZXh0Q29udGVudCIsIm5hbWVfY3lyIiwidGl0bGUiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImZsYWdfcGljdHVyZV9uYW1lIiwiYXBwZW5kIiwiY2xhc3NOYW1lIiwiZm9yIiwidHlwZSIsInBsYWNlaG9sZGVyIiwicGF0dGVybiIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTtBQUNBQSxRQUFRLENBQUNDLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxNQUFNO0FBQ2xELFFBQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRyxjQUFULENBQXdCLFVBQXhCLENBQWY7QUFDQSxRQUFNQyxRQUFRLEdBQUdKLFFBQVEsQ0FBQ0ssYUFBVCxDQUF1QixPQUF2QixDQUFqQjtBQUNBLFFBQU1DLGFBQWEsR0FBR04sUUFBUSxDQUFDSyxhQUFULENBQXVCLFFBQXZCLENBQXRCO0FBQ0EsUUFBTUUsUUFBUSxHQUFHUCxRQUFRLENBQUNLLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBakI7QUFDQSxRQUFNRyxVQUFVLEdBQUcsWUFBbkI7QUFDQSxRQUFNQyxLQUFLLEdBQUcsRUFBZDtBQUVBLE1BQUlDLEtBQUssR0FBRyxJQUFJQyxjQUFKLEVBQVo7O0FBQ0FELEVBQUFBLEtBQUssQ0FBQ0Usa0JBQU4sR0FBMkIsWUFBWTtBQUNyQyxRQUFJLEtBQUtDLFVBQUwsSUFBbUIsQ0FBbkIsSUFBd0IsS0FBS0MsTUFBTCxJQUFlLEdBQTNDLEVBQWdEO0FBQzlDTCxNQUFBQSxLQUFLLENBQUNNLElBQU4sR0FBYUMsSUFBSSxDQUFDQyxLQUFMLENBQVdQLEtBQUssQ0FBQ1EsUUFBakIsQ0FBYjtBQUNBQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWVgsS0FBSyxDQUFDTSxJQUFsQjs7QUFDQU0sZ0JBQUVDLE9BQUYsQ0FBVWIsS0FBSyxDQUFDTSxJQUFOLENBQVdRLFlBQXJCLEVBQW9DQyxFQUFELElBQVE7QUFDekNMLFFBQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhLE9BQWIsRUFBc0JELEVBQXRCO0FBQ0EsWUFBSUUsTUFBTSxHQUFHMUIsUUFBUSxDQUFDSyxhQUFULENBQXVCLFFBQXZCLENBQWI7QUFFQWMsUUFBQUEsT0FBTyxDQUFDTSxJQUFSLENBQWFELEVBQUUsQ0FBQ0csV0FBaEI7QUFFQUQsUUFBQUEsTUFBTSxDQUFDRSxXQUFQLEdBQXFCSixFQUFFLENBQUNHLFdBQXhCO0FBRUFSLFFBQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhRCxFQUFFLENBQUNLLFFBQWhCO0FBRUFILFFBQUFBLE1BQU0sQ0FBQ0ksS0FBUCxHQUFlTixFQUFFLENBQUNLLFFBQWxCO0FBRUFILFFBQUFBLE1BQU0sQ0FBQ0ssS0FBUCxDQUFhQyxlQUFiLEdBQWdDLE9BQU14QixVQUFXLEdBQUVnQixFQUFFLENBQUNTLGlCQUFrQixHQUF4RTtBQUVBM0IsUUFBQUEsYUFBYSxDQUFDNEIsTUFBZCxDQUFxQlIsTUFBckI7QUFDRCxPQWZEOztBQWlCQXBCLE1BQUFBLGFBQWEsQ0FBQzZCLFNBQWQsR0FBMEIsb0JBQTFCO0FBQ0EvQixNQUFBQSxRQUFRLENBQUNnQyxHQUFULEdBQWUsYUFBZjtBQUNBaEMsTUFBQUEsUUFBUSxDQUFDd0IsV0FBVCxHQUF1QixLQUF2QjtBQUVBckIsTUFBQUEsUUFBUSxDQUFDOEIsSUFBVCxHQUFnQixLQUFoQjtBQUNBOUIsTUFBQUEsUUFBUSxDQUFDK0IsV0FBVCxHQUFzQixlQUF0QjtBQUNBL0IsTUFBQUEsUUFBUSxDQUFDZ0MsT0FBVCxHQUFtQixXQUFuQjtBQUNBckMsTUFBQUEsTUFBTSxDQUFDZ0MsTUFBUCxDQUFjOUIsUUFBZDtBQUNBRixNQUFBQSxNQUFNLENBQUNnQyxNQUFQLENBQWM1QixhQUFkO0FBQ0FKLE1BQUFBLE1BQU0sQ0FBQ2dDLE1BQVAsQ0FBYzNCLFFBQWQ7QUFDRDtBQUNGLEdBaENEOztBQWlDQUcsRUFBQUEsS0FBSyxDQUFDOEIsSUFBTixDQUFXLE1BQVgsRUFBbUIsdUJBQW5CLEVBQTRDLElBQTVDO0FBQ0E5QixFQUFBQSxLQUFLLENBQUMrQixnQkFBTixDQUF1QixjQUF2QixFQUF1QyxtQ0FBdkM7QUFDQS9CLEVBQUFBLEtBQUssQ0FBQ2dDLElBQU4sQ0FBVyxrQkFBWDtBQUNBO0FBQ0QsQ0E5Q0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfIH0gZnJvbSAnbG9kYXNoJztcbi8qIGVzbGludC1kaXNhYmxlICovXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBvYmpBcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwSW5wdXQnKTtcbiAgY29uc3Qgb2JqTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBjb25zdCBvYmpTZWxlY3RDb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gIGNvbnN0IG9iaklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgY29uc3QgZmxhZ1ByZWZpeCA9ICdpbWcvZmxhZ3MvJztcbiAgY29uc3QgY29kZXMgPSB7fTtcblxuICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gNCAmJiB0aGlzLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgIGNvZGVzLmxpc3QgPSBKU09OLnBhcnNlKHhodHRwLnJlc3BvbnNlKTtcbiAgICAgIGNvbnNvbGUubG9nKGNvZGVzLmxpc3QpO1xuICAgICAgXy5mb3JFYWNoKGNvZGVzLmxpc3QubW9iaWxlX2NvZGVzLCAoZWwpID0+IHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiITo6OiBcIiwgZWwpO1xuICAgICAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG5cbiAgICAgICAgY29uc29sZS53YXJuKGVsLm1vYmlsZV9jb2RlKTtcblxuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBlbC5tb2JpbGVfY29kZTtcblxuICAgICAgICBjb25zb2xlLndhcm4oZWwubmFtZV9jeXIpO1xuXG4gICAgICAgIG9wdGlvbi50aXRsZSA9IGVsLm5hbWVfY3lyO1xuXG4gICAgICAgIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7ZmxhZ1ByZWZpeH0ke2VsLmZsYWdfcGljdHVyZV9uYW1lfSlgO1xuXG4gICAgICAgIG9ialNlbGVjdENvZGUuYXBwZW5kKG9wdGlvbik7XG4gICAgICB9KTtcblxuICAgICAgb2JqU2VsZWN0Q29kZS5jbGFzc05hbWUgPSAnc2VsZWN0X21vYmlsZV9jb2RlJztcbiAgICAgIG9iakxhYmVsLmZvciA9ICdzZWxlY3RfY29kZSc7XG4gICAgICBvYmpMYWJlbC50ZXh0Q29udGVudCA9ICcgKyAnO1xuXG4gICAgICBvYmpJbnB1dC50eXBlID0gJ3RlbCc7XG4gICAgICBvYmpJbnB1dC5wbGFjZWhvbGRlcj0gJzAwMCAwMDAgMDAgMDAnO1xuICAgICAgb2JqSW5wdXQucGF0dGVybiA9IFwiWzAtOV17MTB9XCI7XG4gICAgICBvYmpBcHAuYXBwZW5kKG9iakxhYmVsKTtcbiAgICAgIG9iakFwcC5hcHBlbmQob2JqU2VsZWN0Q29kZSk7XG4gICAgICBvYmpBcHAuYXBwZW5kKG9iaklucHV0KTtcbiAgICB9XG4gIH07XG4gIHhodHRwLm9wZW4oJ1BPU1QnLCAnYWpheF9tb2JpbGVfY29kZXMucGhwJywgdHJ1ZSk7XG4gIHhodHRwLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgeGh0dHAuc2VuZCgnbW9iaWxlX2NvZGVzPWdldCcpO1xuICAvKiBlc2xpbnQtZW5hYmxlICovXG59KTtcbiJdfQ==