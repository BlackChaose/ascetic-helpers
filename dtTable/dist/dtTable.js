"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.runApp = exports.sum = void 0;

var _lodash = require("lodash");

//  fixme: add pagination, search, count rows
//  todo посмотри что можно сделать с валидацией номера телефона напримера
//  - т.е. получать инфу по кодификатору например.
const sum = (a, b) => a + b;
/* eslint-disable */


exports.sum = sum;
let stackStore = {
  "version": "1.0.0"
};
stackStore.count = 0;

const buildRow = (parentObj, oneRowObjects, tag) => {
  const row = document.createElement('tr');

  _lodash._.reduce(oneRowObjects, (acc, el) => {
    const cell = document.createElement(tag); //console.log(el);

    cell.textContent = el;
    acc.append(cell);
    return acc;
  }, row);

  parentObj.append(row);
  return row;
};

const buildTableHeader = (obj, headers) => {
  const header = buildRow(obj, headers, 'th');
  header.className = 'header';
  return header;
};

const isOdd = num => {
  return num % 2;
};

const addRemoveRowCell = obj => {
  let colRemove = document.createElement('td');
  colRemove.className = 'removeRowBtn';
  let buttonRemove = document.createElement('i');
  buttonRemove.className = "fa fa-remove";
  colRemove.append(buttonRemove);
  obj.append(colRemove);
  return obj;
};

const addRemoveRowHeaderCell = obj => {
  let colRemove = document.createElement('th');
  let buttonRemove = document.createElement('i');
  buttonRemove.className = "fa fa-remove";
  colRemove.append(buttonRemove);
  obj.append(colRemove);
  return obj;
};

const hasRemoveRowColumn = obj => obj.columnDeleteRow;

const selectHandler = e => {
  console.log('event.currentTarget =>', e.currentTarget);
};

const removeHandler = e => {
  //console.log('=> ',e.target.parentElement, '=>> ', e.target.parentNode.parentNode);
  e.currentTarget.parentNode.parentNode.removeChild(e.currentTarget.parentNode); // fixme: add stack for store removed mail-lists
  // fixme: add stack for store final list of rows ( and check it befor send)
  // fixme: add this two stascks to configTable - for store data

  stackStore.count = stackStore.count + 1;
  console.log('stackStore => ', stackStore);
};
/**
 * application
 * @param obj
 * @param configTable
 * @param testData
 * @returns {*}
 */


const runApp = (obj, configTable, testData) => {
  const tbl = document.createElement('table');
  tbl.className = 'dtTable';
  const header = buildTableHeader(obj, configTable.headers[0]);

  if (hasRemoveRowColumn(configTable)) {
    addRemoveRowHeaderCell(header);
  }

  tbl.append(header);
  let index = 0;

  _lodash._.forEach(testData, element => {
    const row = buildRow(obj, element, 'td'); //row.className = (isOdd(index)) ? 'odd' : 'even';

    if (hasRemoveRowColumn(configTable)) {
      addRemoveRowCell(row);
    }

    tbl.append(row);
    index += 1;
  });

  obj.append(tbl);
  /**
   * !!!
   */

  stackStore.inputData = testData; // fixme - clone or copy obj!!!!  - todo

  const rows = document.querySelectorAll('table.dtTable tr');

  _lodash._.forEach(rows, element => {
    element.addEventListener('click', selectHandler);
  });

  const removeRowButtons = document.querySelectorAll('td.removeRowBtn');

  _lodash._.forEach(removeRowButtons, button => {
    button.addEventListener('click', removeHandler);
  });

  return obj;
};
/* eslint-enable */


exports.runApp = runApp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9kdFRhYmxlLmpzIl0sIm5hbWVzIjpbInN1bSIsImEiLCJiIiwic3RhY2tTdG9yZSIsImNvdW50IiwiYnVpbGRSb3ciLCJwYXJlbnRPYmoiLCJvbmVSb3dPYmplY3RzIiwidGFnIiwicm93IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiXyIsInJlZHVjZSIsImFjYyIsImVsIiwiY2VsbCIsInRleHRDb250ZW50IiwiYXBwZW5kIiwiYnVpbGRUYWJsZUhlYWRlciIsIm9iaiIsImhlYWRlcnMiLCJoZWFkZXIiLCJjbGFzc05hbWUiLCJpc09kZCIsIm51bSIsImFkZFJlbW92ZVJvd0NlbGwiLCJjb2xSZW1vdmUiLCJidXR0b25SZW1vdmUiLCJhZGRSZW1vdmVSb3dIZWFkZXJDZWxsIiwiaGFzUmVtb3ZlUm93Q29sdW1uIiwiY29sdW1uRGVsZXRlUm93Iiwic2VsZWN0SGFuZGxlciIsImUiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudFRhcmdldCIsInJlbW92ZUhhbmRsZXIiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJydW5BcHAiLCJjb25maWdUYWJsZSIsInRlc3REYXRhIiwidGJsIiwiaW5kZXgiLCJmb3JFYWNoIiwiZWxlbWVudCIsImlucHV0RGF0YSIsInJvd3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZVJvd0J1dHRvbnMiLCJidXR0b24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFHQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxHQUFHLEdBQUcsQ0FBQ0MsQ0FBRCxFQUFJQyxDQUFKLEtBQVVELENBQUMsR0FBR0MsQ0FBMUI7QUFDQTs7OztBQUNBLElBQUlDLFVBQVUsR0FBRztBQUFDLGFBQVc7QUFBWixDQUFqQjtBQUNBQSxVQUFVLENBQUNDLEtBQVgsR0FBbUIsQ0FBbkI7O0FBRUEsTUFBTUMsUUFBUSxHQUFHLENBQUNDLFNBQUQsRUFBWUMsYUFBWixFQUEyQkMsR0FBM0IsS0FB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bEM7QUFDRCxHQUZEOztBQUlBLFFBQU1tQixnQkFBZ0IsR0FBR3pDLFFBQVEsQ0FBQ3VDLGdCQUFULENBQTBCLGlCQUExQixDQUF6Qjs7QUFDQXJDLFlBQUVpQyxPQUFGLENBQVVNLGdCQUFWLEVBQTZCQyxNQUFELElBQVk7QUFDdENBLElBQUFBLE1BQU0sQ0FBQ0YsZ0JBQVAsQ0FBd0IsT0FBeEIsRUFBaUNiLGFBQWpDO0FBQ0QsR0FGRDs7QUFJQSxTQUFPakIsR0FBUDtBQUNELENBeENEO0FBeUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXyB9IGZyb20gJ2xvZGFzaCc7XG5cblxuLy8gIGZpeG1lOiBhZGQgcGFnaW5hdGlvbiwgc2VhcmNoLCBjb3VudCByb3dzXG4vLyAgdG9kbyDQv9C+0YHQvNC+0YLRgNC4INGH0YLQviDQvNC+0LbQvdC+INGB0LTQtdC70LDRgtGMINGBINCy0LDQu9C40LTQsNGG0LjQtdC5INC90L7QvNC10YDQsCDRgtC10LvQtdGE0L7QvdCwINC90LDQv9GA0LjQvNC10YDQsFxuLy8gIC0g0YIu0LUuINC/0L7Qu9GD0YfQsNGC0Ywg0LjQvdGE0YMg0L/QviDQutC+0LTQuNGE0LjQutCw0YLQvtGA0YMg0L3QsNC/0YDQuNC80LXRgC5cblxuY29uc3Qgc3VtID0gKGEsIGIpID0+IGEgKyBiO1xuLyogZXNsaW50LWRpc2FibGUgKi9cbmxldCBzdGFja1N0b3JlID0ge1widmVyc2lvblwiOiBcIjEuMC4wXCJ9O1xuc3RhY2tTdG9yZS5jb3VudCA9IDA7XG5cbmNvbnN0IGJ1aWxkUm93ID0gKHBhcmVudE9iaiwgb25lUm93T2JqZWN0cywgdGFnKSA9PiB7XG4gIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gIF8ucmVkdWNlKG9uZVJvd09iamVjdHMsIChhY2MsIGVsKSA9PiB7XG4gICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICAvL2NvbnNvbGUubG9nKGVsKTtcbiAgICBjZWxsLnRleHRDb250ZW50ID0gZWw7XG4gICAgYWNjLmFwcGVuZChjZWxsKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCByb3cpO1xuICBwYXJlbnRPYmouYXBwZW5kKHJvdyk7XG4gIHJldHVybiByb3c7XG59O1xuXG5jb25zdCBidWlsZFRhYmxlSGVhZGVyID0gKG9iaiwgaGVhZGVycykgPT4ge1xuICAgIGNvbnN0IGhlYWRlciA9IGJ1aWxkUm93KG9iaiwgaGVhZGVycywgJ3RoJyk7XG4gICAgaGVhZGVyLmNsYXNzTmFtZSA9ICdoZWFkZXInO1xuICAgIHJldHVybiBoZWFkZXI7XG59O1xuXG5jb25zdCBpc09kZCA9IChudW0pID0+IHsgcmV0dXJuIG51bSAlIDI7fTtcblxuY29uc3QgYWRkUmVtb3ZlUm93Q2VsbCA9IChvYmopID0+IHtcbiAgICBsZXQgY29sUmVtb3ZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICBjb2xSZW1vdmUuY2xhc3NOYW1lID0gJ3JlbW92ZVJvd0J0bic7XG4gICAgbGV0IGJ1dHRvblJlbW92ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICBidXR0b25SZW1vdmUuY2xhc3NOYW1lPVwiZmEgZmEtcmVtb3ZlXCI7XG4gICAgY29sUmVtb3ZlLmFwcGVuZChidXR0b25SZW1vdmUpO1xuICAgIG9iai5hcHBlbmQoY29sUmVtb3ZlKTtcbiAgICByZXR1cm4gb2JqO1xufTtcblxuY29uc3QgYWRkUmVtb3ZlUm93SGVhZGVyQ2VsbCA9IChvYmopID0+IHtcbiAgbGV0IGNvbFJlbW92ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gIGxldCBidXR0b25SZW1vdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gIGJ1dHRvblJlbW92ZS5jbGFzc05hbWU9XCJmYSBmYS1yZW1vdmVcIjtcbiAgY29sUmVtb3ZlLmFwcGVuZChidXR0b25SZW1vdmUpO1xuICBvYmouYXBwZW5kKGNvbFJlbW92ZSk7XG4gIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBoYXNSZW1vdmVSb3dDb2x1bW4gPSAob2JqKSA9PiBvYmouY29sdW1uRGVsZXRlUm93O1xuXG5jb25zdCBzZWxlY3RIYW5kbGVyID0gKGUpID0+IHtcbiAgY29uc29sZS5sb2coJ2V2ZW50LmN1cnJlbnRUYXJnZXQgPT4nLCBlLmN1cnJlbnRUYXJnZXQpO1xufTtcblxuY29uc3QgcmVtb3ZlSGFuZGxlciA9IChlKSA9PiB7XG5cbiAgLy9jb25zb2xlLmxvZygnPT4gJyxlLnRhcmdldC5wYXJlbnRFbGVtZW50LCAnPT4+ICcsIGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZSk7XG4gIGUuY3VycmVudFRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZS5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUpO1xuICAvLyBmaXhtZTogYWRkIHN0YWNrIGZvciBzdG9yZSByZW1vdmVkIG1haWwtbGlzdHNcbiAgLy8gZml4bWU6IGFkZCBzdGFjayBmb3Igc3RvcmUgZmluYWwgbGlzdCBvZiByb3dzICggYW5kIGNoZWNrIGl0IGJlZm9yIHNlbmQpXG4gIC8vIGZpeG1lOiBhZGQgdGhpcyB0d28gc3Rhc2NrcyB0byBjb25maWdUYWJsZSAtIGZvciBzdG9yZSBkYXRhXG5cbiAgc3RhY2tTdG9yZS5jb3VudCA9IHN0YWNrU3RvcmUuY291bnQgKyAxO1xuICBjb25zb2xlLmxvZygnc3RhY2tTdG9yZSA9PiAnLCBzdGFja1N0b3JlKTtcblxufTtcblxuLyoqXG4gKiBhcHBsaWNhdGlvblxuICogQHBhcmFtIG9ialxuICogQHBhcmFtIGNvbmZpZ1RhYmxlXG4gKiBAcGFyYW0gdGVzdERhdGFcbiAqIEByZXR1cm5zIHsqfVxuICovXG5jb25zdCBydW5BcHAgPSAob2JqLCBjb25maWdUYWJsZSwgdGVzdERhdGEpID0+IHtcbiAgY29uc3QgdGJsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcblxuICB0YmwuY2xhc3NOYW1lID0gJ2R0VGFibGUnO1xuICBjb25zdCBoZWFkZXIgPSBidWlsZFRhYmxlSGVhZGVyKG9iaiwgY29uZmlnVGFibGUuaGVhZGVyc1swXSk7XG4gIGlmKGhhc1JlbW92ZVJvd0NvbHVtbihjb25maWdUYWJsZSkpe1xuICAgIGFkZFJlbW92ZVJvd0hlYWRlckNlbGwoaGVhZGVyKTtcbiAgfVxuXG4gIHRibC5hcHBlbmQoaGVhZGVyKTtcblxuXG4gIGxldCBpbmRleCA9IDA7XG4gIF8uZm9yRWFjaCh0ZXN0RGF0YSwgKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCByb3cgPSBidWlsZFJvdyhvYmosIGVsZW1lbnQsICd0ZCcpO1xuICAgIC8vcm93LmNsYXNzTmFtZSA9IChpc09kZChpbmRleCkpID8gJ29kZCcgOiAnZXZlbic7XG4gICAgaWYoaGFzUmVtb3ZlUm93Q29sdW1uKGNvbmZpZ1RhYmxlKSl7XG4gICAgICBhZGRSZW1vdmVSb3dDZWxsKHJvdyk7XG4gICAgfVxuICAgIHRibC5hcHBlbmQocm93KTtcbiAgICBpbmRleCArPSAxO1xuICB9KTtcbiAgb2JqLmFwcGVuZCh0YmwpO1xuXG4gIC8qKlxuICAgKiAhISFcbiAgICovXG4gIHN0YWNrU3RvcmUuaW5wdXREYXRhID0gdGVzdERhdGE7IC8vIGZpeG1lIC0gY2xvbmUgb3IgY29weSBvYmohISEhICAtIHRvZG9cblxuICBjb25zdCByb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGFibGUuZHRUYWJsZSB0cicpO1xuICBfLmZvckVhY2gocm93cywgKGVsZW1lbnQpID0+IHtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0SGFuZGxlcik7XG4gIH0pO1xuXG4gIGNvbnN0IHJlbW92ZVJvd0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0ZC5yZW1vdmVSb3dCdG4nKTtcbiAgXy5mb3JFYWNoKHJlbW92ZVJvd0J1dHRvbnMsIChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgfSk7XG5cbiAgcmV0dXJuIG9iajtcbn07XG4vKiBlc2xpbnQtZW5hYmxlICovXG5leHBvcnQgeyBzdW0sIHJ1bkFwcCB9O1xuIl19